!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e){return e&&e.__esModule?e.default:e}var n={},r={},a=e.parcelRequire216a;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},e.parcelRequire216a=a),a.register("dCfNN",(function(t,n){var r="Expected a function",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,i=parseInt,c="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),m=Object.prototype.toString,f=Math.max,h=Math.min,p=function(){return d.Date.now()};function g(e,t,n){var a,o,s,l,i,c,u=0,d=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var n=a,r=o;return a=o=void 0,u=t,l=e.apply(r,n)}function L(e){return u=e,i=setTimeout(w,t),d?b(e):l}function S(e){var n=e-c;return void 0===c||n>=t||n<0||m&&e-u>=s}function w(){var e=p();if(S(e))return x(e);i=setTimeout(w,function(e){var n=t-(e-c);return m?h(n,s-(e-u)):n}(e))}function x(e){return i=void 0,g&&a?b(e):(a=o=void 0,l)}function q(){var e=p(),n=S(e);if(a=arguments,o=this,c=e,n){if(void 0===i)return L(c);if(m)return i=setTimeout(w,t),b(c)}return void 0===i&&(i=setTimeout(w,t)),l}return t=y(t)||0,v(n)&&(d=!!n.leading,s=(m="maxWait"in n)?f(y(n.maxWait)||0,t):s,g="trailing"in n?!!n.trailing:g),q.cancel=function(){void 0!==i&&clearTimeout(i),u=0,a=c=o=i=void 0},q.flush=function(){return void 0===i?l:x(p())},q}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==m.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=s.test(e);return n||l.test(e)?i(e.slice(2),n?2:8):o.test(e)?NaN:+e}t.exports=function(e,t,n){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError(r);return v(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),g(e,t,{leading:a,maxWait:t,trailing:o})}}));var o=a("dCfNN"),s=a("2Z7mb"),l=a("cQkN8"),i=a("hnyov"),c=a("jcFG7");a("dMDFv");var u=a("5cQgp");const d=[{photo:"https://avatars.githubusercontent.com/u/32988243?v=4",name:"Сергій Сєров",role:"Team Lead",quote:"«Що ми робимо в житті, відгукнеться луною в вічності». («Гладіатор»)."},{photo:"https://avatars.githubusercontent.com/u/99733904?v=4",name:"Нікіта Крутоголов",role:"Scrum Master",quote:"«Нехай прибуде з тобою Сила!». («Зоряні Війни»)."},{photo:"https://avatars.githubusercontent.com/u/28190277?v=4",name:"Максим Бай",role:"Developer",quote:"«– Ти любиш музику? – А ти любиш дихати?». («Це дуже кумедна історія»). "},{photo:"https://avatars.githubusercontent.com/u/15800167?v=4",name:"Марія Чворун",role:"Developer",quote:"«Я є Грут», («Охоронці Галактики»). "},{photo:"https://avatars.githubusercontent.com/u/94764038?v=4",name:"Самуїл Семченко",role:"Developer",quote:"«Не говори:” Я помилився ». Краще скажи: «Треба ж як цікаво вийшло». («Льодовиковий період»). "}];var m=a("dMDFv");var f=t(a("WMajR")).template({1:function(e,t,n,r,a){var o,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,i="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <li class="team-item">\n    <img\n    class="team-image"\n    src='+c(typeof(o=null!=(o=u(n,"photo")||(null!=t?u(t,"photo"):t))?o:l)===i?o.call(s,{name:"photo",hash:{},data:a,loc:{start:{line:7,column:8},end:{line:7,column:17}}}):o)+"\n    alt="+c(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:l)===i?o.call(s,{name:"name",hash:{},data:a,loc:{start:{line:8,column:8},end:{line:8,column:16}}}):o)+'\n    />\n    <div class="overlay">\n                  <p class="overlay__text">'+c(typeof(o=null!=(o=u(n,"quote")||(null!=t?u(t,"quote"):t))?o:l)===i?o.call(s,{name:"quote",hash:{},data:a,loc:{start:{line:11,column:43},end:{line:11,column:52}}}):o)+'\n                </p></div>\n    <div class="member-description">\n    <h3 class="team-member">'+c(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:l)===i?o.call(s,{name:"name",hash:{},data:a,loc:{start:{line:14,column:28},end:{line:14,column:36}}}):o)+'</h3>\n    <p lang="en" class="team-member-text ">'+c(typeof(o=null!=(o=u(n,"role")||(null!=t?u(t,"role"):t))?o:l)===i?o.call(s,{name:"role",hash:{},data:a,loc:{start:{line:15,column:43},end:{line:15,column:51}}}):o)+"</p></div>\n    </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var o;return'<h2 class="modal__title">Team BAVOVNA</h2>\n  <ul class="team-pics ">\n'+(null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:3,column:0},end:{line:17,column:9}}}))?o:"")+"  </ul>"},useData:!0});class h extends m.default{constructor(e){super(f(e),{containerClass:"team-container"})}}var p=a("gcmAn");const g="trending_current_page",v="search_current_page",y="search_query",b=(new(0,s.default)("#slider"),new(0,l.default));new(0,i.default)("queue");document.querySelectorAll(".modal").forEach((e=>e.style.display="none"));const L={cardsUl:document.querySelector(".gallery__list"),pagination:document.querySelector(".gallery__pagination"),header:document.querySelector("header"),footer:document.querySelector("footer"),main:document.querySelector("main"),searchForm:document.querySelector(".hero-home__form"),loader:document.querySelector(".loader"),homeLinks:document.querySelectorAll(".js-home"),teamLink:document.querySelector(".open-team-modal")},S=t(o)((()=>{const e=document.querySelector(".search-fail");e&&(e.remove(),L.searchForm.removeEventListener("input",S))}),250);function w(e){L.cardsUl.innerHTML=(0,u.default)({results:e.results,base_path:l.default.IMAGES_BASE_URL}),L.pagination.innerHTML=(0,c.default)(e)}async function x(e){let t;const n=document.querySelector(".search-fail");n&&n.remove();const r=sessionStorage.getItem(y);if(r){L.searchForm.elements.searchQuery.value=r,L.loader.classList.remove("is-hidden");try{t=await b.fetchNextSearch("",e),sessionStorage.setItem(v,t.page),w(t)}catch(e){console.log(e.message)}finally{L.loader.classList.add("is-hidden")}}else{L.searchForm.elements.searchQuery.value="",L.loader.classList.remove("is-hidden");try{t=await b.fetchNextTrending(e),sessionStorage.setItem(g,t.page),w(t)}catch(e){console.log(e.message)}finally{L.loader.classList.add("is-hidden")}}}L.teamLink.addEventListener("click",(e=>{e.preventDefault();new h(d).show()})),L.homeLinks.forEach((e=>{e.addEventListener("click",(e=>{sessionStorage.removeItem(v),sessionStorage.removeItem(y),sessionStorage.removeItem(g)}))})),L.cardsUl.addEventListener("click",(e=>{e.preventDefault();const t=e.target.closest("LI");if(!t)return;console.log(b.getCachedMovieById(t.dataset.id));new(0,p.default)(b.getCachedMovieById(t.dataset.id),{onClose:null,onChange:null}).show()})),L.searchForm.addEventListener("submit",(async e=>{e.preventDefault();const t=document.querySelector(".search-fail");t&&t.remove();const n=e.target.elements.searchQuery.value.trim().toLowerCase();if(!n)return;let r;e.target.elements.searchQuery.value=n,L.loader.classList.remove("is-hidden");try{r=await b.fetchNextSearch(n),sessionStorage.setItem(v,1)}catch(e){return void console.error(e.message)}finally{L.loader.classList.add("is-hidden")}if(!r.results.length){const t=document.createElement("DIV");return t.textContent="Search result not successful. Enter the correct movie name and try again.",t.classList.add("search-fail"),e.target.appendChild(t),void L.searchForm.addEventListener("input",S)}sessionStorage.setItem(y,n),w(r)})),L.pagination.addEventListener("click",(async e=>{if(e.target.classList.contains("gallery__pag-button--current")){if("1"===e.target.dataset.pages)return;const t=`<form style=""><input type="number" name="page" max="${e.target.dataset.pages}" min="1" value="${e.target.textContent}" style="width:100%; height:100%"></form>`;e.target.innerHTML=t;const n=e.target.querySelector("form");return n.elements.page.focus(),n.elements.page.select(),n.addEventListener("submit",(async t=>{t.preventDefault(),x(t.target.elements.page.value),e.target.textContent=e.target.dataset.curpage}),{once:!0}),void n.elements.page.addEventListener("blur",(t=>{n.remove(),e.target.textContent=e.target.dataset.curpage}),{once:!0})}const t=e.target.dataset.page;t&&(x(t),window.scrollTo({top:0,behavior:"smooth"}))})),(async()=>{const e=sessionStorage.getItem(y);if(e){L.searchForm.elements.searchQuery.value=e;const t=sessionStorage.getItem(v);let n;L.loader.classList.remove("is-hidden");try{n=await b.fetchNextSearch(e,t||1)}catch(e){console.error(e.message)}finally{L.loader.classList.add("is-hidden")}w(n)}else{const e=sessionStorage.getItem(g);let t;L.loader.classList.remove("is-hidden");try{t=await b.fetchNextTrending(e||1)}catch(e){console.error(e.message)}finally{L.loader.classList.add("is-hidden")}if(!t.results.length)return void(L.cardsUl.innerHTML="<li>There is no trending movies.</li>");w(t)}})()}();
//# sourceMappingURL=index.ecece13c.js.map
