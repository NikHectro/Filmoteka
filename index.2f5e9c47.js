var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e){return e&&e.__esModule?e.default:e}var n={},a={},o=e.parcelRequire216a;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){a[e]=t},e.parcelRequire216a=o),o.register("9OeKo",(function(t,n){var a="Expected a function",o=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,s=/^0o[0-7]+$/i,i=parseInt,c="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,u=c||d||Function("return this")(),m=Object.prototype.toString,h=Math.max,p=Math.min,f=function(){return u.Date.now()};function v(e,t,n){var o,l,r,s,i,c,d=0,u=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError(a);function y(t){var n=o,a=l;return o=l=void 0,d=t,s=e.apply(a,n)}function b(e){return d=e,i=setTimeout(L,t),u?y(e):s}function w(e){var n=e-c;return void 0===c||n>=t||n<0||m&&e-d>=r}function L(){var e=f();if(w(e))return x(e);i=setTimeout(L,function(e){var n=t-(e-c);return m?p(n,r-(e-d)):n}(e))}function x(e){return i=void 0,v&&o?y(e):(o=l=void 0,s)}function S(){var e=f(),n=w(e);if(o=arguments,l=this,c=e,n){if(void 0===i)return b(c);if(m)return i=setTimeout(L,t),y(c)}return void 0===i&&(i=setTimeout(L,t)),s}return t=_(t)||0,g(n)&&(u=!!n.leading,r=(m="maxWait"in n)?h(_(n.maxWait)||0,t):r,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==i&&clearTimeout(i),d=0,o=c=l=i=void 0},S.flush=function(){return void 0===i?s:x(f())},S}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==m.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=r.test(e);return n||s.test(e)?i(e.slice(2),n?2:8):l.test(e)?NaN:+e}t.exports=function(e,t,n){var o=!0,l=!0;if("function"!=typeof e)throw new TypeError(a);return g(n)&&(o="leading"in n?!!n.leading:o,l="trailing"in n?!!n.trailing:l),v(e,t,{leading:o,maxWait:t,trailing:l})}}));var l=o("9OeKo"),r=o("brr8Z"),s=o("5gHzC"),i=o("9N7Qa"),c=o("2nhTy"),d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n};var u={};Object.defineProperty(u,"__esModule",{value:!0}),u.default=function(e,t){h.default(e,t),t.add(e)};var m,h=(m=o("7K24o"))&&m.__esModule?m:{default:m};var p=new WeakSet;class f{show(){document.body.style.overflow="hidden";const e=`\n    <div class="backdrop is-hidden">\n      <div class="modal-wrapper ${this.containerClass||""}">\n        <button class="modal__btn-close"></button>\n        <div class="modal-content">\n          ${this.markup}\n        </div>\n      </div>\n    </div>\n    `;document.body.insertAdjacentHTML("beforeend",e);const n=document.querySelector(".backdrop");n.classList.remove("is-hidden");document.querySelector(".modal__btn-close").addEventListener("click",this.close),n.addEventListener("click",t(d)(this,p,v).bind(this))}close(){document.body.style.overflow="initial";const e=document.querySelector(".backdrop");e.classList.add("is-hidden"),setTimeout((()=>{e.remove()}),500)}constructor(e,n){t(u)(this,p),this.markup=e,n.containerClass&&(this.containerClass=n.containerClass),console.log(this.containerClass)}}function v(e){e.target===e.currentTarget&&this.close()}var g=o("44W7Q");var _=t(o("amrNH")).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var l,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,i="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\n    <div class="flex">\n    <img class="modal__img" src="'+c(typeof(l=null!=(l=d(n,"full_path")||(null!=t?d(t,"full_path"):t))?l:s)===i?l.call(r,{name:"full_path",hash:{},data:o,loc:{start:{line:3,column:33},end:{line:3,column:46}}}):l)+'" alt="image-film" />\n    <div class="modal__description">\n      <h2 class="modal__title">'+c(typeof(l=null!=(l=d(n,"title")||(null!=t?d(t,"title"):t))?l:s)===i?l.call(r,{name:"title",hash:{},data:o,loc:{start:{line:5,column:31},end:{line:5,column:40}}}):l)+'</h2>\n\n      \x3c!-- <ul class="modal__list">\n        <li class="modal__item"> --\x3e\n      <table class="modal__table">\n        <tr class="modal__tr">\n          <td class="modal__td-lable">Vote / Votes</td>\n          <td class="modal__td-text">\n            <span class="modal__td-text--accent">7.3</span>\n            <span class="modal__td-text--slash">/</span>\n            <span class="modal__td-text--all">1260</span>\n          </td>\n        </tr>\n        <tr class="modal__tr">\n          <td class="modal__td-lable">Popularity</td>\n          <td class="modal__td-text">100.2</td>\n        </tr>\n        <tr class="modal__tr">\n          <td class="modal__td-lable">Original Title</td>\n          <td class="modal__td-text">A FISTFUL OF LEAD</td>\n        </tr>\n        <tr class="modal__tr">\n          <td class="modal__td-lable">Genre</td>\n          <td class="modal__td-text">'+c(typeof(l=null!=(l=d(n,"info")||(null!=t?d(t,"info"):t))?l:s)===i?l.call(r,{name:"info",hash:{},data:o,loc:{start:{line:28,column:37},end:{line:28,column:45}}}):l)+'</td>\n        </tr>\n      </table>\n\n      <h2 class="modal__subtitle">About</h2>\n\n      <p class="modal__text">\n        '+c(typeof(l=null!=(l=d(n,"overview")||(null!=t?d(t,"overview"):t))?l:s)===i?l.call(r,{name:"overview",hash:{},data:o,loc:{start:{line:35,column:8},end:{line:35,column:20}}}):l)+'\n      </p>\n      <ul class="modal__button-list">\n        <li class="modal__button-item">\n          <button\n            class="modal__button modal__button--accent modal__button--watched"\n            type="button"\n            data-action="watched"\n          >\n            add to <span> watched</span>\n          </button>\n        </li>\n        <li>\n          <button\n            class="modal__button  modal__button--queued"\n            type="button"\n            data-action="queued"\n          >\n            add to queue\n          </button>\n        </li>\n      </ul>\n    </div>\n    </div>\n'},useData:!0});var y=t(o("amrNH")).template({1:function(e,t,n,a,o){var l,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,i="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <li class="team-item">\n    <img\n    class="team-image"\n    src='+c(typeof(l=null!=(l=d(n,"photo")||(null!=t?d(t,"photo"):t))?l:s)===i?l.call(r,{name:"photo",hash:{},data:o,loc:{start:{line:7,column:8},end:{line:7,column:17}}}):l)+"\n    alt="+c(typeof(l=null!=(l=d(n,"name")||(null!=t?d(t,"name"):t))?l:s)===i?l.call(r,{name:"name",hash:{},data:o,loc:{start:{line:8,column:8},end:{line:8,column:16}}}):l)+'\n    />\n    <div class="overlay">\n                  <p class="overlay__text">'+c(typeof(l=null!=(l=d(n,"quote")||(null!=t?d(t,"quote"):t))?l:s)===i?l.call(r,{name:"quote",hash:{},data:o,loc:{start:{line:11,column:43},end:{line:11,column:52}}}):l)+'\n                </p></div>\n    <div class="member-description">\n    <h3 class="team-member">'+c(typeof(l=null!=(l=d(n,"name")||(null!=t?d(t,"name"):t))?l:s)===i?l.call(r,{name:"name",hash:{},data:o,loc:{start:{line:14,column:28},end:{line:14,column:36}}}):l)+'</h3>\n    <p lang="en" class="team-member-text ">'+c(typeof(l=null!=(l=d(n,"role")||(null!=t?d(t,"role"):t))?l:s)===i?l.call(r,{name:"role",hash:{},data:o,loc:{start:{line:15,column:43},end:{line:15,column:51}}}):l)+"</p></div>\n    </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var l;return'<h2 class="modal__title">Team BAVOVNA</h2>\n  <ul class="team-pics ">\n'+(null!=(l=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:3,column:0},end:{line:17,column:9}}}))?l:"")+"  </ul>"},useData:!0});const b=[{photo:"https://avatars.githubusercontent.com/u/32988243?v=4",name:"Сергій Сєров",role:"Team Lead",quote:"«Що ми робимо в житті, відгукнеться луною в вічності». («Гладіатор»)."},{photo:"https://avatars.githubusercontent.com/u/99733904?v=4",name:"Нікіта Крутоголов",role:"Scrum Master",quote:"«Нехай прибуде з тобою Сила!». («Зоряні Війни»)."},{photo:"https://avatars.githubusercontent.com/u/28190277?v=4",name:"Максим Бай",role:"Developer",quote:"«– Ти любиш музику? – А ти любиш дихати?». («Це дуже кумедна історія»). "},{photo:"https://avatars.githubusercontent.com/u/15800167?v=4",name:"Марія Чворун",role:"Developer",quote:"«Я є Грут», («Охоронці Галактики»). "},{photo:"https://avatars.githubusercontent.com/u/94764038?v=4",name:"Самуїл Семченко",role:"Developer",quote:"«Не говори:” Я помилився ». Краще скажи: «Треба ж як цікаво вийшло». («Льодовиковий період»). "}],w=(new(0,r.default)("#slider"),new(0,s.default)),L=new(0,i.default)("queue");document.querySelectorAll(".modal").forEach((e=>e.style.display="none"));const x={cardsUl:document.querySelector(".gallery__list"),pagination:document.querySelector(".gallery__pagination"),header:document.querySelector("header"),footer:document.querySelector("footer"),main:document.querySelector("main"),searchForm:document.querySelector(".hero-home__form"),loader:document.querySelector(".loader"),homeLinks:document.querySelectorAll(".js-home"),teamLink:document.querySelector(".open-team-modal")},S=t(l)((()=>{const e=document.querySelector(".search-fail");e&&(e.remove(),x.searchForm.removeEventListener("input",S))}),250);function q(e){x.cardsUl.innerHTML=(0,g.default)({results:e.results,base_path:s.default.IMAGES_BASE_URL}),x.pagination.innerHTML=(0,c.default)(e)}async function T(e){let t;const n=document.querySelector(".search-fail");n&&n.remove();const a=sessionStorage.getItem("search_query");if(a){x.searchForm.elements.searchQuery.value=a,x.loader.classList.remove("is-hidden");try{t=await w.fetchNextSearch("",e),sessionStorage.setItem("search_current_page",t.page),q(t)}catch(e){console.log(e.message)}finally{x.loader.classList.add("is-hidden")}}else{x.searchForm.elements.searchQuery.value="",x.loader.classList.remove("is-hidden");try{t=await w.fetchNextTrending(e),sessionStorage.setItem("trending_current_page",t.page),q(t)}catch(e){console.log(e.message)}finally{x.loader.classList.add("is-hidden")}}}x.teamLink.addEventListener("click",(e=>{e.preventDefault();new f(y(b),{containerClass:"team-container"}).show()})),x.homeLinks.forEach((e=>{e.addEventListener("click",(e=>{sessionStorage.removeItem("search_current_page"),sessionStorage.removeItem("search_query"),sessionStorage.removeItem("trending_current_page")}))})),x.cardsUl.addEventListener("click",(e=>{e.preventDefault();const t=e.target.closest("LI");if(!t)return;console.log(w.getCachedMovieById(t.dataset.id));new f(_(w.getCachedMovieById(t.dataset.id)),{containerClass:"movie-info"}).show();document.querySelector("[data-action=watched]");L.inList(t.dataset.id)?L.removeFromList(t.dataset.id):L.addToList(w.getCachedMovieById(t.dataset.id))})),x.searchForm.addEventListener("submit",(async e=>{e.preventDefault();const t=document.querySelector(".search-fail");t&&t.remove();const n=e.target.elements.searchQuery.value.trim().toLowerCase();if(!n)return;let a;e.target.elements.searchQuery.value=n,x.loader.classList.remove("is-hidden");try{a=await w.fetchNextSearch(n),sessionStorage.setItem("search_current_page",1)}catch(e){return void console.error(e.message)}finally{x.loader.classList.add("is-hidden")}if(!a.results.length){const t=document.createElement("DIV");return t.textContent="Search result not successful. Enter the correct movie name and try again.",t.classList.add("search-fail"),e.target.appendChild(t),void x.searchForm.addEventListener("input",S)}sessionStorage.setItem("search_query",n),q(a)})),x.pagination.addEventListener("click",(async e=>{if(e.target.classList.contains("gallery__pag-button--current")){if("1"===e.target.dataset.pages)return;const t=`<form style=""><input type="number" name="page" max="${e.target.dataset.pages}" min="1" value="${e.target.textContent}" style="width:100%; height:100%"></form>`;e.target.innerHTML=t;const n=e.target.querySelector("form");return n.elements.page.focus(),n.elements.page.select(),n.addEventListener("submit",(async t=>{t.preventDefault(),T(t.target.elements.page.value),e.target.textContent=e.target.dataset.curpage}),{once:!0}),void n.elements.page.addEventListener("blur",(t=>{n.remove(),e.target.textContent=e.target.dataset.curpage}),{once:!0})}const t=e.target.dataset.page;t&&(T(t),window.scrollTo({top:0,behavior:"smooth"}))})),(async()=>{const e=sessionStorage.getItem("search_query");if(e){x.searchForm.elements.searchQuery.value=e;const t=sessionStorage.getItem("search_current_page");let n;x.loader.classList.remove("is-hidden");try{n=await w.fetchNextSearch(e,t||1)}catch(e){console.error(e.message)}finally{x.loader.classList.add("is-hidden")}q(n)}else{const e=sessionStorage.getItem("trending_current_page");let t;x.loader.classList.remove("is-hidden");try{t=await w.fetchNextTrending(e||1)}catch(e){console.error(e.message)}finally{x.loader.classList.add("is-hidden")}if(!t.results.length)return void(x.cardsUl.innerHTML="<li>There is no trending movies.</li>");q(t)}})();
//# sourceMappingURL=index.2f5e9c47.js.map
